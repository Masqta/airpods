<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AirStore Bulgaria</title>
  <style>
    :root{
      --bg:#f6f7fb; --text:#0b0b0f; --muted:#6b7280; --line:rgba(0,0,0,.10);
      --card:rgba(255,255,255,.86); --shadow:0 18px 60px rgba(0,0,0,.10);
      --r:22px; --pill:999px; --safe:env(safe-area-inset-bottom,0px);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--text);
      background:linear-gradient(180deg,var(--bg),#fff)}
    a{color:inherit}

    /* animations */
    @keyframes popIn{from{opacity:0;transform:translateY(10px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}
    @keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
    @keyframes shimmer{0%{transform:translateX(-120%)}100%{transform:translateX(120%)}}
    .reveal{opacity:0;transform:translateY(14px);transition:opacity .55s ease, transform .55s ease}
    .reveal.show{opacity:1;transform:translateY(0)}
    @media (prefers-reduced-motion: reduce){
      *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
      .reveal{opacity:1;transform:none}
    }

    /* top */
    .top{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.78);backdrop-filter:blur(12px);border-bottom:1px solid var(--line)}
    .topin{max-width:980px;margin:0 auto;padding:10px 14px;display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
    .pill{position:relative;overflow:hidden;display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:var(--pill);
      background:rgba(239,68,68,.10);border:1px solid rgba(239,68,68,.20);font-weight:950;font-size:13px;color:#991b1b}
    .pill:after{content:"";position:absolute;top:0;left:0;height:100%;width:40%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.45),transparent);
      transform:translateX(-120%);animation:shimmer 2.8s ease-in-out infinite}

    .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:12px 14px;border-radius:var(--pill);
      border:1px solid transparent;background:#0b0b0f;color:#fff;font-weight:950;text-decoration:none;cursor:pointer;user-select:none;
      transition:transform .18s ease, box-shadow .18s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 14px 34px rgba(0,0,0,.18)}
    .btn:active{transform:translateY(0)}
    .btnG{background:rgba(255,255,255,.92);border-color:var(--line);color:var(--text)}

    .wrap{max-width:980px;margin:0 auto;padding:22px 14px 120px;animation:popIn .6s ease both}

    /* hero */
    .hero{display:grid;grid-template-columns:1.05fr .95fr;gap:16px;align-items:center}
    h1{margin:8px 0 10px;font-size:clamp(30px,4.6vw,52px);letter-spacing:-1px;line-height:1.05}
    p{margin:0;color:var(--muted);line-height:1.5}

    .price{display:flex;flex-wrap:wrap;gap:10px;align-items:baseline;margin-top:14px}
    .now{font-weight:950;font-size:38px}
    .old{color:#9ca3af;text-decoration:line-through;font-weight:900}
    .save{display:inline-flex;align-items:center;gap:8px;padding:7px 10px;border-radius:var(--pill);
      background:rgba(17,17,17,.06);border:1px solid rgba(17,17,17,.10);font-weight:900;font-size:12px}
    .dual{color:var(--muted);font-weight:900;font-size:13px}

    /* gallery thumbs */
    .thumbs{display:flex;gap:10px;justify-content:center;padding:12px 12px 16px}
    .th{width:54px;height:54px;border-radius:16px;border:1px solid var(--line);background:rgba(255,255,255,.92);display:grid;place-items:center;cursor:pointer;
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease}
    .th img{width:34px;height:34px;object-fit:contain;filter:drop-shadow(0 10px 16px rgba(0,0,0,.12))}
    .th:hover{transform:translateY(-2px);box-shadow:0 14px 30px rgba(0,0,0,.12)}
    .th.active{border-color:rgba(0,0,0,.35)}

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--r);box-shadow:var(--shadow);overflow:hidden}
    .img{position:relative;display:flex;align-items:center;justify-content:center;min-height:300px;
      background:radial-gradient(circle at top, rgba(0,0,0,.08), rgba(0,0,0,.02))}
    .img img{width:min(520px,92%);height:auto;filter:drop-shadow(0 35px 70px rgba(0,0,0,.18));animation:floaty 5s ease-in-out infinite}
    .pad{padding:16px}

    .list{display:grid;gap:10px;margin-top:14px}
    .li{background:rgba(255,255,255,.90);border:1px solid var(--line);border-radius:18px;padding:12px 12px;transition:transform .2s ease}
    .li:hover{transform:translateY(-2px)}
    .li b{display:block;margin-bottom:4px}
    .li small{color:var(--muted)}

    /* sections */
    .section{margin-top:18px}
    .h2{margin:0 0 10px;font-size:22px;letter-spacing:-.3px;display:flex;gap:10px;align-items:baseline;justify-content:space-between;flex-wrap:wrap}
    .meta{color:var(--muted);font-size:13px}

    .reviewGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .review{background:rgba(255,255,255,.92);border:1px solid var(--line);border-radius:18px;padding:12px 12px;transition:transform .2s ease}
    .review:hover{transform:translateY(-2px)}
    .review .topr{display:flex;justify-content:space-between;gap:10px;align-items:center}
    .review .who{font-weight:950}
    .review .stars{letter-spacing:1px}
    .review p{margin:8px 0 0;color:var(--muted);font-size:14px;line-height:1.45}

    .faq{display:grid;gap:10px}
    .faq details{background:rgba(255,255,255,.92);border:1px solid var(--line);border-radius:18px;padding:10px 12px}
    .faq summary{cursor:pointer;font-weight:950}
    .faq .ans{color:var(--muted);margin-top:8px;line-height:1.5;font-size:14px}

    /* cart drawer */
    .ov{position:fixed;inset:0;background:rgba(0,0,0,.55);opacity:0;pointer-events:none;transition:.2s;z-index:60}
    .ov.show{opacity:1;pointer-events:auto}
    .dr{position:fixed;top:0;right:-420px;width:min(420px,100vw);height:100vh;background:rgba(255,255,255,.95);
      border-left:1px solid var(--line);box-shadow:-20px 0 70px rgba(0,0,0,.18);transition:right .25s;z-index:70;display:flex;flex-direction:column}
    .dr.show{right:0}
    .dh{padding:14px 14px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--line)}
    .x{border:1px solid var(--line);background:rgba(255,255,255,.8);border-radius:12px;padding:8px 10px;cursor:pointer;font-weight:900}
    .db{padding:14px 14px;display:grid;gap:12px;overflow:auto}
    .df{padding:14px 14px;border-top:1px solid var(--line);display:grid;gap:10px}

    .row{display:flex;justify-content:space-between;gap:10px;align-items:center}
    .qty{display:flex;gap:10px;align-items:center;background:rgba(0,0,0,.05);border:1px solid rgba(0,0,0,.08);padding:8px 10px;border-radius:var(--pill)}
    .q{width:34px;height:34px;border-radius:var(--pill);border:1px solid rgba(0,0,0,.10);background:rgba(255,255,255,.9);font-weight:950;cursor:pointer}

    /* modals */
    .modal{position:fixed;inset:0;display:none;place-items:center;padding:14px;background:rgba(0,0,0,.55);z-index:80}
    .modal.show{display:grid}
    .modalCard{width:min(720px,100%);max-height:90vh;overflow:auto;background:linear-gradient(180deg,#0b0b0f,#000);
      color:#fff;border:1px solid rgba(255,255,255,.10);border-radius:26px;box-shadow:0 30px 120px rgba(0,0,0,.45);animation:popIn .25s ease both}
    .modalHead{padding:14px 14px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.12)}
    .modalHead h2{margin:0;font-size:22px}
    .modalBody{padding:14px 14px}

    form{display:grid;gap:10px;max-width:520px}
    input,select{width:100%;padding:14px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.08);color:#fff;outline:none}
    input::placeholder{color:rgba(255,255,255,.62)}
    .two{display:grid;grid-template-columns:1fr 1fr;gap:10px}

    .successBox{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:22px;padding:14px}

    /* single call button */
    .call{position:fixed;right:14px;bottom:calc(14px + var(--safe));z-index:55;text-decoration:none;background:#0b0b0f;color:#fff;
      font-weight:950;padding:14px 16px;border-radius:var(--pill);box-shadow:0 14px 40px rgba(0,0,0,.28);
      transition:transform .18s ease, box-shadow .18s ease}
    .call:hover{transform:translateY(-2px);box-shadow:0 18px 46px rgba(0,0,0,.30)}

    /* mobile */
    @media (max-width: 860px){
      .hero{grid-template-columns:1fr}
      .hero .card{order:-1}
      .two{grid-template-columns:1fr}
      .btn{width:100%}
      .img{min-height:260px}
      .reviewGrid{grid-template-columns:1fr}
      .partners{grid-template-columns:repeat(2,1fr)}
    }

    /* partners */
    .partners{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:14px}
    .partner{background:rgba(255,255,255,.92);border:1px solid var(--line);border-radius:18px;padding:18px;display:grid;place-items:center;
      transition:transform .2s ease, box-shadow .2s ease}
    .partner:hover{transform:translateY(-2px);box-shadow:0 14px 30px rgba(0,0,0,.12)}
    .partner img{max-width:120px;max-height:48px;object-fit:contain;filter:none;opacity:1}
    .partner:hover img{filter:none;opacity:1}
      .hero .card{order:-1}
      .two{grid-template-columns:1fr}
      .btn{width:100%}
      .img{min-height:260px}
      .reviewGrid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>

  <div class="top">
    <div class="topin">
      <span class="pill">üî• -38% –ù–ê–ú–ê–õ–ï–ù–ò–ï ‚Ä¢ –ë–ï–ó–ü–õ–ê–¢–ù–ê –î–û–°–¢–ê–í–ö–ê</span>
    </div>
  </div>

  <a class="call" href="tel:0878460279">üìû 0878460279</a>

  <div class="wrap">
    <section class="hero reveal">
      <div>
        <h1>AirPods Pro 3</h1>
        <p>–ü—Ä–µ–º–∏—É–º –∑–≤—É–∫ –∏ —É–¥–æ–±—Å—Ç–≤–æ. <b>–ë–µ–∑–ø–ª–∞—Ç–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</b> –¥–æ –æ—Ñ–∏—Å –∏–ª–∏ –∞–¥—Ä–µ—Å.</p>

        <div class="price">
          <div class="now">
            ‚Ç¨ <span id="priceNowEur">152.86</span>
            <span class="dual">(<span id="priceNowBgn">299</span> –ª–≤)</span>
          </div>
          <div class="old">
            ‚Ç¨ <span id="oldPriceEur">245.41</span>
            <span class="dual">(<span id="oldPriceBgn">479.98</span> –ª–≤)</span>
          </div>
          <div class="save" id="saveText">–°–ø–µ—Å—Ç—è–≤–∞—à ‚Ç¨ 92.55 (180.98 –ª–≤)</div>
        </div>

        <div class="list">
          <div class="li"><b>‚úÖ –ù–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂</b><small>–ü–ª–∞—â–∞—à –ø—Ä–∏ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ</small></div>
          <div class="li"><b>‚úÖ –ü—Ä–µ–≥–ª–µ–¥ + —Ç–µ—Å—Ç</b><small>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∫—É—Ä–∏–µ—Ä–∞</small></div>
          <div class="li"><b>üöö –î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞ –Ω–∞—à–∞ —Å–º–µ—Ç–∫–∞</b><small>–ë–µ–∑–ø–ª–∞—Ç–Ω–∞ –¥–æ –æ—Ñ–∏—Å –∏–ª–∏ –∞–¥—Ä–µ—Å</small></div>
        </div>

        <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn" href="#" id="openCart">üõí –ü–æ—Ä—ä—á–∞–π —Å–µ–≥–∞!</a
        
        </div>
      </div>

      <div class="card">
        <div class="img">
          <div style="
            position:absolute;
            top:12px;
            left:12px;
            padding:8px 14px;
            background:linear-gradient(180deg,#22c55e,#16a34a);
            color:#fff;
            font-weight:900;
            font-size:13px;
            border-radius:999px;
            box-shadow:0 10px 24px rgba(0,0,0,.18);
            border:1px solid rgba(255,255,255,.35);
            z-index:5;
            user-select:none;
          ">
            -38% OFF ‚Ä¢ AirStore üéÅ
          </div>
          <img id="mainImg" src="assets/airpods.png" alt="AirPods Pro 3" />
        </div>
        <div class="thumbs" aria-label="–ì–∞–ª–µ—Ä–∏—è">
          <button class="th active" type="button" data-src="assets/airpods.png" aria-label="–°–Ω–∏–º–∫–∞ 1"><img src="assets/airpods.png" alt="" /></button>
          <button class="th" type="button" data-src="assets/airpods_2.png" aria-label="–°–Ω–∏–º–∫–∞ 2"><img src="assets/airpods_2.png" alt="" onerror="this.src='assets/airpods.png'" /></button>
          <button class="th" type="button" data-src="assets/airpods_3.png" aria-label="–°–Ω–∏–º–∫–∞ 3"><img src="assets/airpods_3.png" alt="" onerror="this.src='assets/airpods.png'" /></button>
        </div>
        <div class="pad" style="display:grid;gap:10px">
          <div class="row"><b>–í –∫–æ–º–ø–ª–µ–∫—Ç–∞</b><span style="color:var(--muted);font-size:13px">–∫–∞–∫–≤–æ –ø–æ–ª—É—á–∞–≤–∞—à</span></div>
          <div class="li"><b>üéß AirPods Pro 3</b><small>–° –∫–µ–π—Å –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ</small></div>
          <div class="li"><b>üß© –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ —Ç–∞–ø–∏—á–∫–∏</b><small>–ó–∞ —É–¥–æ–±—Å—Ç–≤–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç</small></div>
          <div class="li"><b>üõ°Ô∏è –ì–∞—Ä–∞–Ω—Ü–∏—è</b><small>6 –º–µ—Å–µ—Ü–∞</small></div>
        </div>
      </div>
    </section>

    <section class="section reveal">
      <div class="h2"><span>–û—Ç–∑–∏–≤–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∏</span></div>
      <div class="reviewGrid" style="grid-template-columns:1.2fr .8fr .8fr">
        <div class="review" style="padding:18px">
          <div style="font-size:42px;font-weight:950;line-height:1">4.9</div>
          <div class="stars" style="margin:6px 0">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="meta">–Ω–∞ –±–∞–∑–∞ 312 –æ—Ç–∑–∏–≤–∞ ‚Ä¢ 96% –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞—Ç</div>
          <div style="margin-top:14px;display:grid;gap:8px">
            <div class="row"><span>5‚òÖ</span><span style="flex:1;height:8px;background:#e5e7eb;border-radius:999px;margin:0 8px"><span style="display:block;height:8px;width:92%;background:#22c55e;border-radius:999px"></span></span><span>287</span></div>
            <div class="row"><span>4‚òÖ</span><span style="flex:1;height:8px;background:#e5e7eb;border-radius:999px;margin:0 8px"><span style="display:block;height:8px;width:6%;background:#22c55e;border-radius:999px"></span></span><span>19</span></div>
            <div class="row"><span>3‚òÖ</span><span style="flex:1;height:8px;background:#e5e7eb;border-radius:999px;margin:0 8px"><span style="display:block;height:8px;width:1%;background:#22c55e;border-radius:999px"></span></span><span>4</span></div>
            <div class="row"><span>2‚òÖ</span><span style="flex:1;height:8px;background:#e5e7eb;border-radius:999px;margin:0 8px"></span><span>1</span></div>
            <div class="row"><span>1‚òÖ</span><span style="flex:1;height:8px;background:#e5e7eb;border-radius:999px;margin:0 8px"></span><span>1</span></div>
          </div>
        </div>

        <div class="review">
          <div class="topr"><div class="who">–ò–≤–∞–Ω –ü.</div><div class="meta">–ø—Ä–µ–¥–∏ 2 –¥–Ω–∏</div></div>
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>–ú–Ω–æ–≥–æ —á–∏—Å—Ç –∑–≤—É–∫ –∏ —à—É–º–æ–ø–æ—Ç–∏—Å–∫–∞–Ω–µ—Ç–æ –µ —Ç–æ–ø. –î–æ–π–¥–æ—Ö–∞ –±—ä—Ä–∑–æ, –æ–ø–∞–∫–æ–≤–∫–∞—Ç–∞ –±–µ—à–µ —Å—É–ø–µ—Ä.</p>
        </div>

        <div class="review">
          <div class="topr"><div class="who">–ú–∞—Ä–∏—è –ö.</div><div class="meta">–ø—Ä–µ–¥–∏ 5 –¥–Ω–∏</div></div>
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>–£–¥–æ–±–Ω–∏ –∑–∞ –Ω–æ—Å–µ–Ω–µ –∏ –±–∞—Ç–µ—Ä–∏—è—Ç–∞ –¥—ä—Ä–∂–∏ –º–Ω–æ–≥–æ. –ü—Ä–µ–≥–ª–µ–¥ –∏ —Ç–µ—Å—Ç –ø—Ä–∏ –∫—É—Ä–∏–µ—Ä–∞ ‚Äî –≤—Å–∏—á–∫–æ –æ–∫.</p>
        </div>
      </div>
    </section>

    <section class="section reveal">
      <div class="h2"><span>–ß–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏</span></div>
      <div class="faq">
        <details open>
          <summary>–ó–∞—â–æ –¥–∞ –∏–∑–±–µ—Ä–µ—Ç–µ AIRSTORE?</summary>
          <div class="ans">–ù–∏—Å–∫–∏ —Ü–µ–Ω–∏ —Å –¥–∏—Ä–µ–∫—Ç–µ–Ω –≤–Ω–æ—Å –æ—Ç –ê–Ω–≥–ª–∏—è, –±–µ–∑–ø–ª–∞—Ç–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞, –Ω–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂ —Å –ø—Ä–µ–≥–ª–µ–¥ –∏ —Ç–µ—Å—Ç, –∏ 6 –º–µ—Å–µ—Ü–∞ –≥–∞—Ä–∞–Ω—Ü–∏—è.</div>
        </details>
        <details>
          <summary>–ò–º–∞ –ª–∏ –ø—Ä–µ–≥–ª–µ–¥ –∏ —Ç–µ—Å—Ç?</summary>
          <div class="ans">–î–∞ –ø—Ä–µ–≥–ª–µ–¥ –∏ —Ç–µ—Å—Ç –ø—Ä–∏ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ (–ø—Ä–∏ –∫—É—Ä–∏–µ—Ä–∞).</div>
        </details>
        <details>
          <summary>–ö–æ–ª–∫–æ –µ –¥–æ—Å—Ç–∞–≤–∫–∞—Ç–∞?</summary>
          <div class="ans">–î–æ—Å—Ç–∞–≤–∫–∞—Ç–∞ –µ –±–µ–∑–ø–ª–∞—Ç–Ω–∞ –¥–æ –æ—Ñ–∏—Å –∏–ª–∏ –∞–¥—Ä–µ—Å. –ò–º–∞–º–µ –ø–∞—Ä—Ç–Ω—å–æ—Ä—Å—Ç–≤–æ —Å –∫—É—Ä–∏–µ—Ä—Å–∫–∏—Ç–µ —Ñ–∏—Ä–º–∏ <b>–ï–∫–æ–Ω—Ç</b> –∏ <b>–°–ø–∏–¥–∏</b>, –∫–æ–µ—Ç–æ –Ω–∏ –ø–æ–∑–≤–æ–ª—è–≤–∞ –±—ä—Ä–∑–∞ –∏ —Å–∏–≥—É—Ä–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞.</div>
        </details>
      </div>
    </section>

    <!-- PARTNERS -->
    <section class="section reveal">
      <div class="h2"><span>–ù–∞—à–∏ –ø–∞—Ä—Ç–Ω—å–æ—Ä–∏</span><span class="meta">–¥–æ–≤–µ—Ä–µ–Ω–∏ –ª–æ–≥–∏—Å—Ç–∏—á–Ω–∏ –∏ —Ç—ä—Ä–≥–æ–≤—Å–∫–∏ –ø–∞—Ä—Ç–Ω—å–æ—Ä–∏</span></div>
      <div class="partners">
        <div class="partner"><img src="assets/partner1.png" alt="–ü–∞—Ä—Ç–Ω—å–æ—Ä 1"></div>
        <div class="partner"><img src="assets/partner2.png" alt="–ü–∞—Ä—Ç–Ω—å–æ—Ä 2"></div>
        <div class="partner"><img src="assets/partner3.png" alt="–ü–∞—Ä—Ç–Ω—å–æ—Ä 3"></div>
      </div>
      <p class="meta" style="margin-top:8px"></p>
    </section>
  </div>

  <div class="ov" id="ov" aria-hidden="true"> </div> 
  <aside class="dr" id="dr" aria-hidden="true" aria-label="–ö–æ—à–Ω–∏—Ü–∞">
    <div class="dh">
      <div style="font-weight:950">üõí –ö–æ—à–Ω–∏—Ü–∞</div>
      <button class="x" id="x" aria-label="–ó–∞—Ç–≤–æ—Ä–∏">‚úï</button>
    </div>
    <div class="db">
      <div class="row">
        <div>
          <div style="font-weight:950">AirPods Pro 3</div>
          <div style="color:var(--muted);font-size:13px">–î–æ—Å—Ç–∞–≤–∫–∞: <b>–ë–µ–∑–ø–ª–∞—Ç–Ω–∞</b></div>
        </div>
        <div class="qty">
          <button class="q" type="button" id="m">‚àí</button>
          <b id="qv">1</b>
          <button class="q" type="button" id="p">+</button>
        </div>
      </div>
      <div class="row">
        <b>–û–±—â–æ</b>
        <b>
          ‚Ç¨ <span id="totalCartEur">152.86</span>
          <span class="dual">(<span id="totalCartBgn">299</span> –ª–≤)</span>
        </b>
      </div>
    </div>
    <div class="df">
      <a class="btn" href="#" id="toOrder">–ü—Ä–æ–¥—ä–ª–∂–∏ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞</a>
      <a class="btn btnG" href="tel:0878460279">üìû –û–±–∞–¥–∏ —Å–µ</a>
    </div>
  </aside>

  <!-- ORDER MODAL -->
  <div class="modal" id="orderModal" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-label="–ü–æ—Ä—ä—á–∫–∞">
      <div class="modalHead">
        <h2>–ü–æ—Ä—ä—á–∫–∞</h2>
        <button class="x" id="closeOrder" aria-label="–ó–∞—Ç–≤–æ—Ä–∏">‚úï</button>
      </div>
      <div class="modalBody">
        <p style="margin:0 0 10px;color:rgba(255,255,255,.78)">–ü—Ä–æ–≤–µ—Ä–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –≤ –∫–æ—à–Ω–∏—Ü–∞—Ç–∞ –∏ –ø–æ–ø—ä–ª–Ω–∏ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞.</p>

        <div class="row" style="margin:0 0 10px">
          <div style="font-weight:950">–û–±—â–æ:</div>
          <div style="font-weight:950">
            ‚Ç¨ <span id="totalViewEur">152.86</span>
            <span class="dual" style="color:rgba(255,255,255,.78)">(<span id="totalViewBgn">299</span> –ª–≤)</span>
          </div>
        </div>

        <form name="order" method="POST" action="/" data-netlify="true" data-netlify-honeypot="bot-field" onsubmit="return submitOrder(event)">
          <input type="hidden" name="form-name" value="order" />
          <p style="display:none"><label>Don‚Äôt fill this out: <input name="bot-field" /></label></p>

          <input type="hidden" name="email_subject" value="–ù–æ–≤–∞ –ø–æ—Ä—ä—á–∫–∞: AirPods Pro 3" />

          <input type="hidden" id="items" name="items" value="AirPods Pro 3 x1" />
          <input type="hidden" id="qtyHidden" name="qty" value="1" />
          <input type="hidden" id="totalHiddenBgn" name="total_bgn" value="299" />
          <input type="hidden" id="totalHiddenEur" name="total_eur" value="152.86" />

          <div class="two">
            <select id="courier" name="courier" required>
              <option value="" selected disabled>–ò–∑–±–µ—Ä–∏ –∫—É—Ä–∏–µ—Ä</option>
              <option value="Econt">Econt</option>
              <option value="Speedy">Speedy</option>
            </select>
            <select id="deliveryType" name="deliveryType" required>
              <option value="" selected disabled>–ü–æ–ª—É—á–∞–≤–∞–Ω–µ</option>
              <option value="office">–î–æ –æ—Ñ–∏—Å</option>
              <option value="address">–î–æ –∞–¥—Ä–µ—Å</option>
            </select>
          </div>

          <input type="text" id="city" name="city" placeholder="–ì—Ä–∞–¥" required />
          <input type="text" id="office" name="office" placeholder="–û—Ñ–∏—Å (–∏–º–µ/–∞–¥—Ä–µ—Å)" style="display:none" />
          <input type="text" id="addr" name="address" placeholder="–ê–¥—Ä–µ—Å (—É–ª–∏—Ü–∞, –Ω–æ–º–µ—Ä, –≤—Ö–æ–¥, –µ—Ç.)" style="display:none" />

          <div class="two">
            <input type="text" id="fullname" name="fullname" placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è" required />
            <input type="tel" id="phone" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required />
          </div>

          <input type="text" id="note" name="note" placeholder="–ë–µ–ª–µ–∂–∫–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)" />

          <button class="btn" type="submit">‚úÖ –ò–∑–ø—Ä–∞—Ç–∏ –ø–æ—Ä—ä—á–∫–∞</button>
          <div style="font-size:12px;color:rgba(255,255,255,.70)">
            –ò–º–µ–π–ª –∏–∑–≤–µ—Å—Ç–∏–µ: Netlify Dashboard ‚Üí Forms ‚Üí <b>order</b> ‚Üí Notifications ‚Üí Email ‚Üí <b>masqta1337@icloud.com</b>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- SUCCESS MODAL -->
  <div class="modal" id="successModal" aria-hidden="true">
    <div class="modalCard" role="dialog" aria-label="–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º">
      <div class="modalHead">
        <h2>‚úÖ –£—Å–ø–µ—à–Ω–æ</h2>
        <button class="x" id="closeSuccess" aria-label="–ó–∞—Ç–≤–æ—Ä–∏">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="successBox">
          <div style="font-size:22px;font-weight:950;margin-bottom:6px">–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞!</div>
          <div style="color:rgba(255,255,255,.78);line-height:1.6">
            –°–∫–æ—Ä–æ –æ—á–∞–∫–≤–∞–π—Ç–µ –Ω–∞—à —Å—ä—Ç—Ä—É–¥–Ω–∏–∫ –¥–∞ –≤–∏ –∑–≤—ä–Ω–Ω–µ –∑–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞!
          </div>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
          <a class="btn" href="tel:0878460279">üìû –û–±–∞–¥–∏ —Å–µ —Å–µ–≥–∞</a>
          <button class="btn btnG" type="button" id="okSuccess">OK</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Netlify form detection (hidden) -->
  <form name="order" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" hidden>
    <input type="hidden" name="form-name" value="order" />
    <p><label>Don‚Äôt fill this out: <input name="bot-field" /></label></p>
    <input type="text" name="fullname" />
    <input type="text" name="phone" />
    <input type="text" name="city" />
    <input type="text" name="courier" />
    <input type="text" name="deliveryType" />
    <input type="text" name="total_bgn" />
    <input type="text" name="total_eur" />
    <button type="submit">Send</button>
  </form>

  <script>
    // Fixed BGN‚ÜíEUR conversion (BGN per 1 EUR)
    const FX_BGN_PER_EUR = 1.95583;

    const PRICE_BGN = 215.12;
    // ‚Äû–ò—Å—Ç–∏–Ω—Å–∫–∞‚Äú —Ü–µ–Ω–∞ –ø–æ BG –º–∞–≥–∞–∑–∏–Ω–∏ (~‚Ç¨245.41 / ~479.98 –ª–≤)
    const OLD_BGN = 479.98;
    const state = { qty: 1 };

    const qv = document.getElementById('qv');

    const priceNowBgn = document.getElementById('priceNowBgn');
    const priceNowEur = document.getElementById('priceNowEur');
    const oldPriceBgn = document.getElementById('oldPriceBgn');
    const oldPriceEur = document.getElementById('oldPriceEur');
    const saveText = document.getElementById('saveText');

    const totalCartBgn = document.getElementById('totalCartBgn');
    const totalCartEur = document.getElementById('totalCartEur');

    const totalViewBgn = document.getElementById('totalViewBgn');
    const totalViewEur = document.getElementById('totalViewEur');

    const totalHiddenBgn = document.getElementById('totalHiddenBgn');
    const totalHiddenEur = document.getElementById('totalHiddenEur');
    const qtyHidden = document.getElementById('qtyHidden');
    const itemsHidden = document.getElementById('items');

    const deliveryType = document.getElementById('deliveryType');
    const office = document.getElementById('office');
    const addr = document.getElementById('addr');

    const ov = document.getElementById('ov');
    const dr = document.getElementById('dr');

    const orderModal = document.getElementById('orderModal');
    const successModal = document.getElementById('successModal');

    const eur = (bgn)=> (bgn / FX_BGN_PER_EUR);
    const fmtEur = (n)=> n.toFixed(2);
    const fmtBgn = (n)=> (Math.round(n*100)/100).toFixed(2).replace(/\.00$/,'');

    const clamp = ()=>{ state.qty = Math.max(1, Math.min(5, state.qty)); };
    const subtotalBgn = ()=> PRICE_BGN * state.qty;

    function render(){
      const nowE = eur(PRICE_BGN);
      const oldE = eur(OLD_BGN);

      priceNowBgn.textContent = fmtBgn(PRICE_BGN);
      priceNowEur.textContent = fmtEur(nowE);

      oldPriceBgn.textContent = fmtBgn(OLD_BGN);
      oldPriceEur.textContent = fmtEur(oldE);

      const tBgn = subtotalBgn();
      const tEur = eur(tBgn);

      qv.textContent = String(state.qty);

      totalCartBgn.textContent = fmtBgn(tBgn);
      totalCartEur.textContent = fmtEur(tEur);

      totalViewBgn.textContent = fmtBgn(tBgn);
      totalViewEur.textContent = fmtEur(tEur);

      qtyHidden.value = String(state.qty);
      totalHiddenBgn.value = fmtBgn(tBgn);
      totalHiddenEur.value = fmtEur(tEur);
      itemsHidden.value = `AirPods Pro 3 x${state.qty}`;

      const diffBgn = (OLD_BGN - PRICE_BGN);
      const diffEur = eur(diffBgn);
      saveText.textContent = `–°–ø–µ—Å—Ç—è–≤–∞—à ‚Ç¨ ${fmtEur(diffEur)} (${fmtBgn(diffBgn)} –ª–≤)`;
    }

    function openCart(){ ov.classList.add('show'); dr.classList.add('show'); }
    function closeCart(){ ov.classList.remove('show'); dr.classList.remove('show'); }

    function openOrder(){ closeCart(); orderModal.classList.add('show'); orderModal.setAttribute('aria-hidden','false'); render(); }
    function closeOrder(){ orderModal.classList.remove('show'); orderModal.setAttribute('aria-hidden','true'); }

    function openSuccess(){
      successModal.classList.add('show');
      successModal.setAttribute('aria-hidden','false');
    }
    function closeSuccess(){
      successModal.classList.remove('show');
      successModal.setAttribute('aria-hidden','true');
    }

    document.getElementById('openCart')?.addEventListener('click', (e)=>{ e.preventDefault(); openCart(); render(); });
    document.getElementById('x')?.addEventListener('click', closeCart);
    ov?.addEventListener('click', closeCart);

    document.getElementById('p')?.addEventListener('click', ()=>{ state.qty++; clamp(); render(); });
    document.getElementById('m')?.addEventListener('click', ()=>{ state.qty--; clamp(); render(); });

    document.getElementById('openOrder')?.addEventListener('click', (e)=>{ e.preventDefault(); openOrder(); });
    document.getElementById('toOrder')?.addEventListener('click', (e)=>{ e.preventDefault(); openOrder(); });
    document.getElementById('closeOrder')?.addEventListener('click', closeOrder);
    orderModal?.addEventListener('click', (e)=>{ if(e.target === orderModal) closeOrder(); });

    document.getElementById('closeSuccess')?.addEventListener('click', closeSuccess);
    document.getElementById('okSuccess')?.addEventListener('click', closeSuccess);
    successModal?.addEventListener('click', (e)=>{ if(e.target === successModal) closeSuccess(); });

    deliveryType?.addEventListener('change', () => {
      const v = deliveryType.value;
      if(v === 'office'){
        office.style.display = 'block'; addr.style.display = 'none';
        office.required = true; addr.required = false;
      } else if(v === 'address'){
        addr.style.display = 'block'; office.style.display = 'none';
        addr.required = true; office.required = false;
      }
    });

    function encode(data){
      return Object.keys(data).map(k => encodeURIComponent(k)+'='+encodeURIComponent(data[k])).join('&');
    }

    async function submitOrder(e){
      e.preventDefault();
      render();

      const form = e.target;
      const fd = new FormData(form);

      const dt = fd.get('deliveryType');
      if(dt === 'office' && !fd.get('office')){ alert('–ú–æ–ª—è –ø–æ–ø—ä–ª–Ω–∏ –æ—Ñ–∏—Å.'); return false; }
      if(dt === 'address' && !fd.get('address')){ alert('–ú–æ–ª—è –ø–æ–ø—ä–ª–Ω–∏ –∞–¥—Ä–µ—Å.'); return false; }

      const data = {}; fd.forEach((v,k)=>data[k]=v);
      const isLocal = location.protocol === 'file:' || location.hostname === 'localhost' || location.hostname === '127.0.0.1';

      if(isLocal){
        closeOrder();
        openSuccess();
        return false;
      }

      try{
        await fetch('/', { method:'POST', headers:{'Content-Type':'application/x-www-form-urlencoded'}, body: encode(data) });
        form.reset();
        office.style.display='none'; addr.style.display='none';
        office.required=false; addr.required=false;
        state.qty=1; render();
        closeOrder();
        openSuccess();
      } catch(err){
        alert('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ. –ü—Ä–æ–≤–µ—Ä–∏ Notifications –≤ Netlify Forms.');
      }
      return false;
    }

    // reveal on scroll
    const io = new IntersectionObserver((entries)=>{
      for(const e of entries){ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target); } }
    }, { threshold: 0.12 });
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // tests (?test=1)
    function assert(cond, msg){ if(!cond) throw new Error('TEST FAIL: ' + msg); }
    function near(a,b,eps=0.01){ return Math.abs(a-b) <= eps; }
    function runTests(){
      state.qty = 1; assert(subtotalBgn() === 299, 'subtotalBgn 1');
      state.qty = 3; assert(subtotalBgn() === 897, 'subtotalBgn 3');
      state.qty = 0; clamp(); assert(state.qty === 1, 'clamp lower');
      state.qty = 6; clamp(); assert(state.qty === 5, 'clamp upper');
      const e1 = eur(299); assert(near(e1, 152.86), 'EUR conversion 299');
      state.qty = 2; render();
      assert(qtyHidden.value === '2', 'hidden qty');
      assert(totalHiddenBgn.value === '598', 'hidden total bgn');
      assert(totalHiddenEur.value === fmtEur(eur(598)), 'hidden total eur');
      console.log('All tests passed ‚úÖ');
      state.qty = 1; render();
    }
    if(new URLSearchParams(location.search).get('test') === '1') runTests();

    // gallery
    const mainImg = document.getElementById('mainImg');
    document.querySelectorAll('.th').forEach((btn)=>{
      btn.addEventListener('click', ()=>{
        const src = btn.getAttribute('data-src');
        if(mainImg && src){
          mainImg.src = src;
          document.querySelectorAll('.th').forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
        }
      });
    });

    render();
  </script>

</body>
</html>
